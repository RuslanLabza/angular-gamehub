<app-navbar></app-navbar>
<div class="container">
  <main class="friends-wrapper mt-5 mb-5 p-5">
    <h1 class="text-center">Friends</h1>
    <section id="search-component">
      <label for="search-box" class="form-label">Search Friends</label>
      <input #searchBox id="search-box" type="text" class="form-control mb-3" placeholder="Search Friends" (input)="search(searchBox.value)" />

      <div *ngIf="searchBox.value">
        <h2>Search Friends: {{searchBox.value}}</h2>
        <div class="card mb-2" *ngFor="let user of users$ | async">
          <div class="card-body d-flex p-2">
            <h5 class="card-title">{{user.username}}</h5>
            <button type="button" class="btn-sm btn-primary" (click)="addFriend(user, $event)">Add Friend</button>
          </div>
        </div>
      </div>
    </section>
    <section *ngIf="!searchBox.value" id="friends-section">
      <h2>My Friends</h2>
      <div class="card mb-2" *ngFor="let friend of friends">
        <div class="card-body d-flex p-2">
          <h5 class="card-title">{{friend.username}}</h5>
          <button type="button" class="btn-sm btn-danger" (click)="removeFriend(friend, $event)">Remove Friend</button>
        </div>
      </div>
    </section>
  </main>
</div>
